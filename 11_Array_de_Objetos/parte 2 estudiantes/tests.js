const estudiantesTest = [
    {
        edad: 17,
        familiar: "Salamandra",
        casa: "Hufflepuff",
        nombreCompleto: {
            nombre: "Ellis",
            apellido: "Reeves",
        },
        hechizoPreferido: "Expecto Patronum",
        materias: [
            {
                nombre: "Astronomía",
                promedio: 1,
            },
            {
                nombre: "Encantamientos",
                promedio: 6,
            },
            {
                nombre: "Defensa Contra las Artes Oscuras",
                promedio: 2,
            },
            {
                nombre: "Vuelo",
                promedio: 0,
            },
            {
                nombre: "Herbología",
                promedio: 2,
            },
            {
                nombre: "Historia de la Magia",
                promedio: 2,
            },
            {
                nombre: "Pociones",
                promedio: 8,
            },
            {
                nombre: "Transformaciones",
                promedio: 1,
            },
        ],
        amigues: [
            {
                nombre: "Richard Bean",
                edad: 21,
                casa: "Gryffindor",
                hechizoPreferido: "Expelliarmus",
                familiar: "Lechuza",
            },
            {
                nombre: "Sosa Martinez",
                edad: 19,
                casa: "Gryffindor",
                hechizoPreferido: "Petrificus Totalus",
                familiar: "Salamandra",
            },
            {
                nombre: "Kirk Joyner",
                edad: 15,
                casa: "Hufflepuff",
                hechizoPreferido: "Petrificus Totalus",
                familiar: "Rata",
            },
            {
                nombre: "Rodriquez Carey",
                edad: 13,
                casa: "Slytherin",
                hechizoPreferido: "Accio",
                familiar: "Salamandra",
            },
            {
                nombre: "Leslie Humphrey",
                edad: 19,
                casa: "Ravenclaw",
                hechizoPreferido: "Lumos",
                familiar: "Lechuza",
            },
            {
                nombre: "Ollie Merrill",
                edad: 12,
                casa: "Ravenclaw",
                hechizoPreferido: "Wingardium Leviosa",
                familiar: "Gato",
            },
            {
                nombre: "Vicky Boyd",
                edad: 16,
                casa: "Hufflepuff",
                hechizoPreferido: "Lumos",
                familiar: "Rata",
            },
            {
                nombre: "Edwards Mann",
                edad: 13,
                casa: "Hufflepuff",
                hechizoPreferido: "Expecto Patronum",
                familiar: "Sapo",
            },
        ],
    },
    {
        edad: 15,
        familiar: "Sapito",
        casa: "Gryffindor",
        nombreCompleto: {
            nombre: "Neal",
            apellido: "Spence",
        },
        hechizoPreferido: "Lumos",
        materias: [
            {
                nombre: "Astronomía",
                promedio: 0,
            },
            {
                nombre: "Encantamientos",
                promedio: 8,
            },
            {
                nombre: "Defensa Contra las Artes Oscuras",
                promedio: 6,
            },
            {
                nombre: "Vuelo",
                promedio: 7,
            },
            {
                nombre: "Herbología",
                promedio: 1,
            },
            {
                nombre: "Historia de la Magia",
                promedio: 3,
            },
            {
                nombre: "Pociones",
                promedio: 10,
            },
            {
                nombre: "Transformaciones",
                promedio: 5,
            },
        ],
        amigues: [
            {
                nombre: "Morgan Wilson",
                edad: 13,
                casa: "Hufflepuff",
                hechizoPreferido: "Expelliarmus",
                familiar: "Rata",
            },
            {
                nombre: "Traci Arnold",
                edad: 19,
                casa: "Ravenclaw",
                hechizoPreferido: "Expelliarmus",
                familiar: "Sapo",
            },
            {
                nombre: "Pennington Rodriguez",
                edad: 17,
                casa: "Slytherin",
                hechizoPreferido: "Expecto Patronum",
                familiar: "Sapo",
            },
            {
                nombre: "Carrillo Hyde",
                edad: 15,
                casa: "Hufflepuff",
                hechizoPreferido: "Expelliarmus",
                familiar: "Rata",
            },
            {
                nombre: "Norton Foreman",
                edad: 14,
                casa: "Slytherin",
                hechizoPreferido: "Petrificus Totalus",
                familiar: "Sapo",
            },
            {
                nombre: "Addie Roach",
                edad: 21,
                casa: "Hufflepuff",
                hechizoPreferido: "Petrificus Totalus",
                familiar: "Lechuza",
            },
        ],
    },
]

const estudiantesTest2 = [{
    edad: 16,
    familiar: "Gato",
    casa: "Ravenclaw",
    nombreCompleto: {
        nombre: "Beverly",
        apellido: "Mercado",
    },
    hechizoPreferido: "Expelliarmus",
    materias: [
        {
            nombre: "Astronomía",
            promedio: 2,
        },
        {
            nombre: "Encantamientos",
            promedio: 0,
        },
        {
            nombre: "Defensa Contra las Artes Oscuras",
            promedio: 1,
        },
        {
            nombre: "Vuelo",
            promedio: 5,
        },
        {
            nombre: "Herbología",
            promedio: 5,
        },
        {
            nombre: "Historia de la Magia",
            promedio: 0,
        },
        {
            nombre: "Pociones",
            promedio: 3,
        },
        {
            nombre: "Transformaciones",
            promedio: 8,
        },
    ],
    amigues: [
        {
            nombre: "Sophia Nelson",
            edad: 14,
            casa: "Slytherin",
            hechizoPreferido: "Expelliarmus",
            familiar: "Lechuza",
        },
        {
            nombre: "Polly Spencer",
            edad: 14,
            casa: "Slytherin",
            hechizoPreferido: "Expecto Patronum",
            familiar: "Sapo",
        },
        {
            nombre: "Christie Burton",
            edad: 20,
            casa: "Hufflepuff",
            hechizoPreferido: "Wingardium Leviosa",
            familiar: "Rata",
        },
        {
            nombre: "Marva Carson",
            edad: 18,
            casa: "Slytherin",
            hechizoPreferido: "Accio",
            familiar: "Gato",
        },
        {
            nombre: "Esther Moon",
            edad: 14,
            casa: "Slytherin",
            hechizoPreferido: "Accio",
            familiar: "Lechuza",
        },
        {
            nombre: "Christine Irwin",
            edad: 13,
            casa: "Hufflepuff",
            hechizoPreferido: "Wingardium Leviosa",
            familiar: "Salamandra",
        },
    ],
},
{
    edad: 15,
    familiar: "Gato",
    casa: "Gryffindor",
    nombreCompleto: {
        nombre: "Camacho",
        apellido: "Marshall",
    },
    hechizoPreferido: "Accio",
    materias: [
        {
            nombre: "Astronomía",
            promedio: 10,
        },
        {
            nombre: "Encantamientos",
            promedio: 10,
        },
        {
            nombre: "Defensa Contra las Artes Oscuras",
            promedio: 10,
        },
        {
            nombre: "Vuelo",
            promedio: 8,
        },
        {
            nombre: "Herbología",
            promedio: 9,
        },
        {
            nombre: "Historia de la Magia",
            promedio: 5,
        },
        {
            nombre: "Pociones",
            promedio: 6,
        },
        {
            nombre: "Transformaciones",
            promedio: 9,
        },
    ],
    amigues: [
        {
            nombre: "Richmond Mcfadden",
            edad: 16,
            casa: "Slytherin",
            hechizoPreferido: "Expecto Patronum",
            familiar: "Gato",
        },
        {
            nombre: "Dora Norman",
            edad: 20,
            casa: "Slytherin",
            hechizoPreferido: "Petrificus Totalus",
            familiar: "Gato",
        },
        {
            nombre: "Christa Sawyer",
            edad: 18,
            casa: "Slytherin",
            hechizoPreferido: "Expecto Patronum",
            familiar: "Lechuza",
        },
        {
            nombre: "Socorro Grant",
            edad: 20,
            casa: "Gryffindor",
            hechizoPreferido: "Wingardium Leviosa",
            familiar: "Lechuza",
        },
        {
            nombre: "Laurel Boone",
            edad: 17,
            casa: "Hufflepuff",
            hechizoPreferido: "Expecto Patronum",
            familiar: "Gato",
        },
    ],
}
]

describe("Harry Potter y el misterio de JavaScript", () => {
    it("estudiantesPorHechizo: toma un hechizo y un array de estudiantes y devuelve los estudiantes que tengan ese hechizo", () => {
        // EJEMPLO DE TEST CORTO
        // const estudiantesHechizo = [{
        //   hechizoPreferido: "Expelliarmus",
        // }, {
        //   hechizoPreferido: "Saraza",
        // }]
        const hechizo = "Lumos";


        expect(estudiantesPorHechizo(hechizo, estudiantesTest)).to.be.eql([estudiantesTest[1]])
    });

    it("estudiantesConMasAmiguesQue : toma por parametro un numero y un array de estudiantes y devuelve los estudiantes que tengan amigues mayor o igual a el número pasado por parámetro", () => {

        const cantAmigos = 7;

        expect(estudiantesConMasAmiguesQue(estudiantesTest, cantAmigos)).to.be.eql([estudiantesTest[0]])
    });

    it("estudiantesConFamiliares: tome por parámetro un array con nombres de familiares y un array de estudiantes y devuelva un array con les estudiantes cuyo familiar sea alguno de los incluidos en el parámetro", () => {

        const familiares = ["Salamandra", "Sapo"];

        expect(estudiantesConFamiliares(estudiantesTest, familiares)).to.be.eql([estudiantesTest[0]])
    })

    it("obtenerPromedioDeEstudiante, toma por parámetro un estudiante (que se saca del array estudiantes) y devuelva el promedio total de todas las materias", () => {

        const promedio = 2.75;

        expect(obtenerPromedioDeEstudiante(estudiantesTest[0])).to.be.eql(promedio);

    });

    it("estudiantesConPromedioMayorA: toma por parámetro un número y un array de estudiantes y devuelva un array con les estudiantes que tengan un promedio total mayor a dicho número (usar la función anterior)", () => {

        const numero = 3;

        expect(estudiantesConPromedioMayorA(numero, estudiantesTest)).to.be.eql([estudiantesTest[1]]);

    });

    it("`mejoresEstudiantesPorCasa`, que tome por parámetro el nombre de una casa y un array de estudiantes y devuelva les estudiantes de dicha casa cuyo promedio total es mayor a 6", () => {

        const nombreCasa = "Gryffindor";

        expect(mejoresEstudiantesPorCasa(nombreCasa, estudiantesTest2)).to.be.eql([estudiantesTest2[1]]);

    });

    it("`casaConMejoresEstudiantes`, toma por parámetro un array de estudiantes y devuelva el nombre de la casa que tiene más cantidad de estudiantes con promedio total mayor a 6", () => {

        expect(casaConMejoresEstudiantes(estudiantesTest2)).to.be.eql("Gryffindor");

    });

    it("`estudiantesPorMateriaAprobada`, Ej 8: toma por parámetro el nombre de una materia y un array de estudiantes y devuelve una array con les estudiantes que tienen en dicha materia un promedio superior a 6", () => {

        const nombreMateria = "Vuelo";

        expect(estudiantesPorMateriaAprobada(estudiantesTest2, nombreMateria)).to.be.eql([estudiantesTest2[1]]);

    });

    it("`obtenerInfoResumida`, Ej 9: toma por parámetro un array de estudiantes y devuelva un array con objetos, habiendo un objeto por estudiante, donde cada objeto tiene las siguientes propiedades: `nombre`, `casa`, `promedio`, `amigues`(cantidad)", () => {

        const result = [{
            nombre: "Beverly",
            casa: "Ravenclaw",
            promedio: 3,
            amigues: 6,
        },
        {
            nombre: "Camacho",
            casa: "Gryffindor",
            promedio: 8.375,
            amigues: 5,
        },
        ]
        expect(obtenerInfoResumida(estudiantesTest2)).to.be.eql(result);

    });

    it("`cantidadDeEstudiantesPorCasa`, Ej 10: toma por parámetro un array de estudiantes y devuelva un objeto con los nombres de las casas como propiedades y la cantidad de estudiantes por casa(no debe contar amigues)", () => {

        const objeto = {
            Ravenclaw: 1,
            Gryffindor: 1
        }

        expect(cantidadDeEstudiantesPorCasa(estudiantesTest2)).to.be.eql(objeto);

    });


    it("`cantidadDeEstudiantesPorMateriaAprobada`, Ej11 que tome por parámetro un array de estudiantes y devuelva un objeto con los nombres de las materias como propiedades y la cantidad de estudiantes que aprobaron dicha materia(promedio superior a 6)", () => {

        const objeto = {
            Transformaciones: 2,
            Astronomía: 1,
            Encantamientos: 1,
            "Defensa Contra las Artes Oscuras": 1,
            Vuelo: 1,
            Herbología: 1
        }

        expect(cantidadDeEstudiantesPorMateriaAprobada(estudiantesTest2)).to.be.eql(objeto);

    });

    it("`promedioPorMateria`, Ej12: que tome por parámetro un array de estudiantes y devuelva un objeto con los nombres de las materias como propiedades y el promedio total de dicha materia entre todes les estudiantes(suma de todos los promedios divido la cantidad de estudiantes)", () => {
        const objeto = {
            Astronomía: 6,
            Encantamientos: 5,
            "Defensa Contra las Artes Oscuras": 5.5,
            Vuelo: 6.5,
            Herbología: 7,
            "Historia de la Magia": 2.5,
            Pociones: 4.5,
            Transformaciones: 8.5,
        }

        expect(promedioPorMateria(estudiantesTest2)).to.be.eql(objeto);

    });

    it("`familiarPreferido`, Ej13: que tome por parámetro un array de estudiantes y devuelva el familiar que más estudiantes tienen", () => {
        const animal = "Gato"

        expect(familiarPreferido(estudiantesTest2)).to.be.eql(animal);

    });


})





// 13. `familiarPreferido`, que tome por parámetro un array de estudiantes y devuelva el familiar que más estudiantes tienen